// console.log('hello')
const url = "https://www.reddit.com/"

const options = {
    headers: {
        'Accept': 'application/json'
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const imgArea = document.querySelector('#imgDisplay')
    const searchButton = document.querySelector('#searching')
    // console.log(imgArea, searchButton)
    searchButton.addEventListener('click', () => {
        // clear out the joke area
        while (imgArea.firstChild) {
            imgArea.removeChild(imgArea.firstChild)
        }
        // fetch a joke
        fetch(url, options)
            // jsonify the response
            // 'implicit return arrow function'
            .then(response => response.json())
            // append the joke to the joke area
            .then(searchJson => {
                console.log(searchJson)
                // create a p tag
                // const pTag = document.createElement('p')
                // // set the text of the p tag to be the Dad joke
                // pTag.innerText = searchJson.joke
                // // make new image tag for the joke image
                // const imgTag = document.createElement('img')
                // imgTag.src = `https://icanhazdadjoke.com/j/${searchJson.id}.png`
                // imgTag.alt = searchJson.joke
                // imgArea.append(pTag, imgTag)
            })
    //         // catch and handle errors
    //         .catch(err => {
    //             console.warn(err)
    //             // display error message to the user
    //             const pTag = document.createElement('p')
    //             pTag.innerText = 'oh no! There was a fetch error!'
    //             jokeArea.append(pTag)
    //         })
    })
})